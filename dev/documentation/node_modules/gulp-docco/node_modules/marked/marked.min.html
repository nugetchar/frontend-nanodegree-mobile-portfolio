<!DOCTYPE html>

<html>
<head>
  <title>marked.min.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="../../../../docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>marked.min.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-comment">/**
 * marked - a markdown parser
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 */</span>
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> block={newline:<span class="hljs-regexp">/^\n+/</span>,code:<span class="hljs-regexp">/^( {4}[^\n]+\n*)+/</span>,fences:noop,hr:<span class="hljs-regexp">/^( *[-*_]){3,} *(?:\n+|$)/</span>,heading:<span class="hljs-regexp">/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/</span>,nptable:noop,lheading:<span class="hljs-regexp">/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/</span>,blockquote:<span class="hljs-regexp">/^( *&gt;[^\n]+(\n(?!def)[^\n]+)*\n*)+/</span>,list:<span class="hljs-regexp">/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/</span>,html:<span class="hljs-regexp">/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/</span>,def:<span class="hljs-regexp">/^ *\[([^\]]+)\]: *&lt;?([^\s&gt;]+)&gt;?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/</span>,table:noop,paragraph:<span class="hljs-regexp">/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/</span>,text:<span class="hljs-regexp">/^[^\n]+/</span>};block.bullet=<span class="hljs-regexp">/(?:[*+-]|\d+\.)/</span>;block.item=<span class="hljs-regexp">/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/</span>;block.item=replace(block.item,<span class="hljs-string">"gm"</span>)(<span class="hljs-regexp">/bull/g</span>,block.bullet)();block.list=replace(block.list)(<span class="hljs-regexp">/bull/g</span>,block.bullet)(<span class="hljs-string">"hr"</span>,<span class="hljs-string">"\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))"</span>)(<span class="hljs-string">"def"</span>,<span class="hljs-string">"\\n+(?="</span>+block.def.source+<span class="hljs-string">")"</span>)();block.blockquote=replace(block.blockquote)(<span class="hljs-string">"def"</span>,block.def)();block._tag=<span class="hljs-string">"(?!(?:"</span>+<span class="hljs-string">"a|em|strong|small|s|cite|q|dfn|abbr|data|time|code"</span>+<span class="hljs-string">"|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo"</span>+<span class="hljs-string">"|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b"</span>;block.html=replace(block.html)(<span class="hljs-string">"comment"</span>,<span class="hljs-regexp">/&lt;!--[\s\S]*?--&gt;/</span>)(<span class="hljs-string">"closed"</span>,<span class="hljs-regexp">/&lt;(tag)[\s\S]+?&lt;\/\1&gt;/</span>)(<span class="hljs-string">"closing"</span>,<span class="hljs-regexp">/&lt;tag(?:"[^"]*"|'[^']*'|[^'"&gt;])*?&gt;/</span>)(<span class="hljs-regexp">/tag/g</span>,block._tag)();block.paragraph=replace(block.paragraph)(<span class="hljs-string">"hr"</span>,block.hr)(<span class="hljs-string">"heading"</span>,block.heading)(<span class="hljs-string">"lheading"</span>,block.lheading)(<span class="hljs-string">"blockquote"</span>,block.blockquote)(<span class="hljs-string">"tag"</span>,<span class="hljs-string">"&lt;"</span>+block._tag)(<span class="hljs-string">"def"</span>,block.def)();block.normal=merge({},block);block.gfm=merge({},block.normal,{fences:<span class="hljs-regexp">/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/</span>,paragraph:<span class="hljs-regexp">/^/</span>,heading:<span class="hljs-regexp">/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/</span>});block.gfm.paragraph=replace(block.paragraph)(<span class="hljs-string">"(?!"</span>,<span class="hljs-string">"(?!"</span>+block.gfm.fences.source.replace(<span class="hljs-string">"\\1"</span>,<span class="hljs-string">"\\2"</span>)+<span class="hljs-string">"|"</span>+block.list.source.replace(<span class="hljs-string">"\\1"</span>,<span class="hljs-string">"\\3"</span>)+<span class="hljs-string">"|"</span>)();block.tables=merge({},block.gfm,{nptable:<span class="hljs-regexp">/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/</span>,table:<span class="hljs-regexp">/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/</span>});<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Lexer</span>(<span class="hljs-params">options</span>)</span>{<span class="hljs-keyword">this</span>.tokens=[];<span class="hljs-keyword">this</span>.tokens.links={};<span class="hljs-keyword">this</span>.options=options||marked.defaults;<span class="hljs-keyword">this</span>.rules=block.normal;<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.options.gfm){<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.options.tables){<span class="hljs-keyword">this</span>.rules=block.tables}<span class="hljs-keyword">else</span>{<span class="hljs-keyword">this</span>.rules=block.gfm}}}Lexer.rules=block;Lexer.lex=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">src,options</span>)</span>{<span class="hljs-keyword">var</span> lexer=<span class="hljs-keyword">new</span> Lexer(options);<span class="hljs-keyword">return</span> lexer.lex(src)};Lexer.prototype.lex=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">src</span>)</span>{src=src.replace(<span class="hljs-regexp">/\r\n|\r/g</span>,<span class="hljs-string">"\n"</span>).replace(<span class="hljs-regexp">/\t/g</span>,<span class="hljs-string">"    "</span>).replace(<span class="hljs-regexp">/\u00a0/g</span>,<span class="hljs-string">" "</span>).replace(<span class="hljs-regexp">/\u2424/g</span>,<span class="hljs-string">"\n"</span>);<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.token(src,<span class="hljs-literal">true</span>)};Lexer.prototype.token=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">src,top,bq</span>)</span>{<span class="hljs-keyword">var</span> src=src.replace(<span class="hljs-regexp">/^ +$/gm</span>,<span class="hljs-string">""</span>),next,loose,cap,bull,b,item,space,i,l;<span class="hljs-keyword">while</span>(src){<span class="hljs-keyword">if</span>(cap=<span class="hljs-keyword">this</span>.rules.newline.exec(src)){src=src.substring(cap[<span class="hljs-number">0</span>].length);<span class="hljs-keyword">if</span>(cap[<span class="hljs-number">0</span>].length&gt;<span class="hljs-number">1</span>){<span class="hljs-keyword">this</span>.tokens.push({type:<span class="hljs-string">"space"</span>})}}<span class="hljs-keyword">if</span>(cap=<span class="hljs-keyword">this</span>.rules.code.exec(src)){src=src.substring(cap[<span class="hljs-number">0</span>].length);cap=cap[<span class="hljs-number">0</span>].replace(<span class="hljs-regexp">/^ {4}/gm</span>,<span class="hljs-string">""</span>);<span class="hljs-keyword">this</span>.tokens.push({type:<span class="hljs-string">"code"</span>,text:!<span class="hljs-keyword">this</span>.options.pedantic?cap.replace(<span class="hljs-regexp">/\n+$/</span>,<span class="hljs-string">""</span>):cap});<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>(cap=<span class="hljs-keyword">this</span>.rules.fences.exec(src)){src=src.substring(cap[<span class="hljs-number">0</span>].length);<span class="hljs-keyword">this</span>.tokens.push({type:<span class="hljs-string">"code"</span>,lang:cap[<span class="hljs-number">2</span>],text:cap[<span class="hljs-number">3</span>]||<span class="hljs-string">""</span>});<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>(cap=<span class="hljs-keyword">this</span>.rules.heading.exec(src)){src=src.substring(cap[<span class="hljs-number">0</span>].length);<span class="hljs-keyword">this</span>.tokens.push({type:<span class="hljs-string">"heading"</span>,depth:cap[<span class="hljs-number">1</span>].length,text:cap[<span class="hljs-number">2</span>]});<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>(top&amp;&amp;(cap=<span class="hljs-keyword">this</span>.rules.nptable.exec(src))){src=src.substring(cap[<span class="hljs-number">0</span>].length);item={type:<span class="hljs-string">"table"</span>,header:cap[<span class="hljs-number">1</span>].replace(<span class="hljs-regexp">/^ *| *\| *$/g</span>,<span class="hljs-string">""</span>).split(<span class="hljs-regexp">/ *\| */</span>),align:cap[<span class="hljs-number">2</span>].replace(<span class="hljs-regexp">/^ *|\| *$/g</span>,<span class="hljs-string">""</span>).split(<span class="hljs-regexp">/ *\| */</span>),cells:cap[<span class="hljs-number">3</span>].replace(<span class="hljs-regexp">/\n$/</span>,<span class="hljs-string">""</span>).split(<span class="hljs-string">"\n"</span>)};<span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;item.align.length;i++){<span class="hljs-keyword">if</span>(<span class="hljs-regexp">/^ *-+: *$/</span>.test(item.align[i])){item.align[i]=<span class="hljs-string">"right"</span>}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-regexp">/^ *:-+: *$/</span>.test(item.align[i])){item.align[i]=<span class="hljs-string">"center"</span>}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-regexp">/^ *:-+ *$/</span>.test(item.align[i])){item.align[i]=<span class="hljs-string">"left"</span>}<span class="hljs-keyword">else</span>{item.align[i]=<span class="hljs-literal">null</span>}}<span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;item.cells.length;i++){item.cells[i]=item.cells[i].split(<span class="hljs-regexp">/ *\| */</span>)}<span class="hljs-keyword">this</span>.tokens.push(item);<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>(cap=<span class="hljs-keyword">this</span>.rules.lheading.exec(src)){src=src.substring(cap[<span class="hljs-number">0</span>].length);<span class="hljs-keyword">this</span>.tokens.push({type:<span class="hljs-string">"heading"</span>,depth:cap[<span class="hljs-number">2</span>]===<span class="hljs-string">"="</span>?<span class="hljs-number">1</span>:<span class="hljs-number">2</span>,text:cap[<span class="hljs-number">1</span>]});<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>(cap=<span class="hljs-keyword">this</span>.rules.hr.exec(src)){src=src.substring(cap[<span class="hljs-number">0</span>].length);<span class="hljs-keyword">this</span>.tokens.push({type:<span class="hljs-string">"hr"</span>});<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>(cap=<span class="hljs-keyword">this</span>.rules.blockquote.exec(src)){src=src.substring(cap[<span class="hljs-number">0</span>].length);<span class="hljs-keyword">this</span>.tokens.push({type:<span class="hljs-string">"blockquote_start"</span>});cap=cap[<span class="hljs-number">0</span>].replace(<span class="hljs-regexp">/^ *&gt; ?/gm</span>,<span class="hljs-string">""</span>);<span class="hljs-keyword">this</span>.token(cap,top,<span class="hljs-literal">true</span>);<span class="hljs-keyword">this</span>.tokens.push({type:<span class="hljs-string">"blockquote_end"</span>});<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>(cap=<span class="hljs-keyword">this</span>.rules.list.exec(src)){src=src.substring(cap[<span class="hljs-number">0</span>].length);bull=cap[<span class="hljs-number">2</span>];<span class="hljs-keyword">this</span>.tokens.push({type:<span class="hljs-string">"list_start"</span>,ordered:bull.length&gt;<span class="hljs-number">1</span>});cap=cap[<span class="hljs-number">0</span>].match(<span class="hljs-keyword">this</span>.rules.item);next=<span class="hljs-literal">false</span>;l=cap.length;i=<span class="hljs-number">0</span>;<span class="hljs-keyword">for</span>(;i&lt;l;i++){item=cap[i];space=item.length;item=item.replace(<span class="hljs-regexp">/^ *([*+-]|\d+\.) +/</span>,<span class="hljs-string">""</span>);<span class="hljs-keyword">if</span>(~item.indexOf(<span class="hljs-string">"\n "</span>)){space-=item.length;item=!<span class="hljs-keyword">this</span>.options.pedantic?item.replace(<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^ {1,"</span>+space+<span class="hljs-string">"}"</span>,<span class="hljs-string">"gm"</span>),<span class="hljs-string">""</span>):item.replace(<span class="hljs-regexp">/^ {1,4}/gm</span>,<span class="hljs-string">""</span>)}<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.options.smartLists&amp;&amp;i!==l-<span class="hljs-number">1</span>){b=block.bullet.exec(cap[i+<span class="hljs-number">1</span>])[<span class="hljs-number">0</span>];<span class="hljs-keyword">if</span>(bull!==b&amp;&amp;!(bull.length&gt;<span class="hljs-number">1</span>&amp;&amp;b.length&gt;<span class="hljs-number">1</span>)){src=cap.slice(i+<span class="hljs-number">1</span>).join(<span class="hljs-string">"\n"</span>)+src;i=l-<span class="hljs-number">1</span>}}loose=next||<span class="hljs-regexp">/\n\n(?!\s*$)/</span>.test(item);<span class="hljs-keyword">if</span>(i!==l-<span class="hljs-number">1</span>){next=item.charAt(item.length-<span class="hljs-number">1</span>)===<span class="hljs-string">"\n"</span>;<span class="hljs-keyword">if</span>(!loose)loose=next}<span class="hljs-keyword">this</span>.tokens.push({type:loose?<span class="hljs-string">"loose_item_start"</span>:<span class="hljs-string">"list_item_start"</span>});<span class="hljs-keyword">this</span>.token(item,<span class="hljs-literal">false</span>,bq);<span class="hljs-keyword">this</span>.tokens.push({type:<span class="hljs-string">"list_item_end"</span>})}<span class="hljs-keyword">this</span>.tokens.push({type:<span class="hljs-string">"list_end"</span>});<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>(cap=<span class="hljs-keyword">this</span>.rules.html.exec(src)){src=src.substring(cap[<span class="hljs-number">0</span>].length);<span class="hljs-keyword">this</span>.tokens.push({type:<span class="hljs-keyword">this</span>.options.sanitize?<span class="hljs-string">"paragraph"</span>:<span class="hljs-string">"html"</span>,pre:!<span class="hljs-keyword">this</span>.options.sanitizer&amp;&amp;(cap[<span class="hljs-number">1</span>]===<span class="hljs-string">"pre"</span>||cap[<span class="hljs-number">1</span>]===<span class="hljs-string">"script"</span>||cap[<span class="hljs-number">1</span>]===<span class="hljs-string">"style"</span>),text:cap[<span class="hljs-number">0</span>]});<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>(!bq&amp;&amp;top&amp;&amp;(cap=<span class="hljs-keyword">this</span>.rules.def.exec(src))){src=src.substring(cap[<span class="hljs-number">0</span>].length);<span class="hljs-keyword">this</span>.tokens.links[cap[<span class="hljs-number">1</span>].toLowerCase()]={href:cap[<span class="hljs-number">2</span>],title:cap[<span class="hljs-number">3</span>]};<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>(top&amp;&amp;(cap=<span class="hljs-keyword">this</span>.rules.table.exec(src))){src=src.substring(cap[<span class="hljs-number">0</span>].length);item={type:<span class="hljs-string">"table"</span>,header:cap[<span class="hljs-number">1</span>].replace(<span class="hljs-regexp">/^ *| *\| *$/g</span>,<span class="hljs-string">""</span>).split(<span class="hljs-regexp">/ *\| */</span>),align:cap[<span class="hljs-number">2</span>].replace(<span class="hljs-regexp">/^ *|\| *$/g</span>,<span class="hljs-string">""</span>).split(<span class="hljs-regexp">/ *\| */</span>),cells:cap[<span class="hljs-number">3</span>].replace(<span class="hljs-regexp">/(?: *\| *)?\n$/</span>,<span class="hljs-string">""</span>).split(<span class="hljs-string">"\n"</span>)};<span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;item.align.length;i++){<span class="hljs-keyword">if</span>(<span class="hljs-regexp">/^ *-+: *$/</span>.test(item.align[i])){item.align[i]=<span class="hljs-string">"right"</span>}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-regexp">/^ *:-+: *$/</span>.test(item.align[i])){item.align[i]=<span class="hljs-string">"center"</span>}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-regexp">/^ *:-+ *$/</span>.test(item.align[i])){item.align[i]=<span class="hljs-string">"left"</span>}<span class="hljs-keyword">else</span>{item.align[i]=<span class="hljs-literal">null</span>}}<span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;item.cells.length;i++){item.cells[i]=item.cells[i].replace(<span class="hljs-regexp">/^ *\| *| *\| *$/g</span>,<span class="hljs-string">""</span>).split(<span class="hljs-regexp">/ *\| */</span>)}<span class="hljs-keyword">this</span>.tokens.push(item);<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>(top&amp;&amp;(cap=<span class="hljs-keyword">this</span>.rules.paragraph.exec(src))){src=src.substring(cap[<span class="hljs-number">0</span>].length);<span class="hljs-keyword">this</span>.tokens.push({type:<span class="hljs-string">"paragraph"</span>,text:cap[<span class="hljs-number">1</span>].charAt(cap[<span class="hljs-number">1</span>].length-<span class="hljs-number">1</span>)===<span class="hljs-string">"\n"</span>?cap[<span class="hljs-number">1</span>].slice(<span class="hljs-number">0</span>,-<span class="hljs-number">1</span>):cap[<span class="hljs-number">1</span>]});<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>(cap=<span class="hljs-keyword">this</span>.rules.text.exec(src)){src=src.substring(cap[<span class="hljs-number">0</span>].length);<span class="hljs-keyword">this</span>.tokens.push({type:<span class="hljs-string">"text"</span>,text:cap[<span class="hljs-number">0</span>]});<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>(src){<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Infinite loop on byte: "</span>+src.charCodeAt(<span class="hljs-number">0</span>))}}<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.tokens};<span class="hljs-keyword">var</span> inline={<span class="hljs-built_in">escape</span>:<span class="hljs-regexp">/^\\([\\`*{}\[\]()#+\-.!_&gt;])/</span>,autolink:<span class="hljs-regexp">/^&lt;([^ &gt;]+(@|:\/)[^ &gt;]+)&gt;/</span>,url:noop,tag:<span class="hljs-regexp">/^&lt;!--[\s\S]*?--&gt;|^&lt;\/?\w+(?:"[^"]*"|'[^']*'|[^'"&gt;])*?&gt;/</span>,link:<span class="hljs-regexp">/^!?\[(inside)\]\(href\)/</span>,reflink:<span class="hljs-regexp">/^!?\[(inside)\]\s*\[([^\]]*)\]/</span>,nolink:<span class="hljs-regexp">/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/</span>,strong:<span class="hljs-regexp">/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/</span>,em:<span class="hljs-regexp">/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/</span>,code:<span class="hljs-regexp">/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/</span>,br:<span class="hljs-regexp">/^ {2,}\n(?!\s*$)/</span>,del:noop,text:<span class="hljs-regexp">/^[\s\S]+?(?=[\\&lt;!\[_*`]| {2,}\n|$)/</span>};inline._inside=<span class="hljs-regexp">/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/</span>;inline._href=<span class="hljs-regexp">/\s*&lt;?([\s\S]*?)&gt;?(?:\s+['"]([\s\S]*?)['"])?\s*/</span>;inline.link=replace(inline.link)(<span class="hljs-string">"inside"</span>,inline._inside)(<span class="hljs-string">"href"</span>,inline._href)();inline.reflink=replace(inline.reflink)(<span class="hljs-string">"inside"</span>,inline._inside)();inline.normal=merge({},inline);inline.pedantic=merge({},inline.normal,{strong:<span class="hljs-regexp">/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/</span>,em:<span class="hljs-regexp">/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/</span>});inline.gfm=merge({},inline.normal,{<span class="hljs-built_in">escape</span>:replace(inline.escape)(<span class="hljs-string">"])"</span>,<span class="hljs-string">"~|])"</span>)(),url:<span class="hljs-regexp">/^(https?:\/\/[^\s&lt;]+[^&lt;.,:;"')\]\s])/</span>,del:<span class="hljs-regexp">/^~~(?=\S)([\s\S]*?\S)~~/</span>,text:replace(inline.text)(<span class="hljs-string">"]|"</span>,<span class="hljs-string">"~]|"</span>)(<span class="hljs-string">"|"</span>,<span class="hljs-string">"|https?://|"</span>)()});inline.breaks=merge({},inline.gfm,{br:replace(inline.br)(<span class="hljs-string">"{2,}"</span>,<span class="hljs-string">"*"</span>)(),text:replace(inline.gfm.text)(<span class="hljs-string">"{2,}"</span>,<span class="hljs-string">"*"</span>)()});<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">InlineLexer</span>(<span class="hljs-params">links,options</span>)</span>{<span class="hljs-keyword">this</span>.options=options||marked.defaults;<span class="hljs-keyword">this</span>.links=links;<span class="hljs-keyword">this</span>.rules=inline.normal;<span class="hljs-keyword">this</span>.renderer=<span class="hljs-keyword">this</span>.options.renderer||<span class="hljs-keyword">new</span> Renderer;<span class="hljs-keyword">this</span>.renderer.options=<span class="hljs-keyword">this</span>.options;<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>.links){<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Tokens array requires a `links` property."</span>)}<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.options.gfm){<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.options.breaks){<span class="hljs-keyword">this</span>.rules=inline.breaks}<span class="hljs-keyword">else</span>{<span class="hljs-keyword">this</span>.rules=inline.gfm}}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.options.pedantic){<span class="hljs-keyword">this</span>.rules=inline.pedantic}}InlineLexer.rules=inline;InlineLexer.output=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">src,links,options</span>)</span>{<span class="hljs-keyword">var</span> inline=<span class="hljs-keyword">new</span> InlineLexer(links,options);<span class="hljs-keyword">return</span> inline.output(src)};InlineLexer.prototype.output=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">src</span>)</span>{<span class="hljs-keyword">var</span> out=<span class="hljs-string">""</span>,link,text,href,cap;<span class="hljs-keyword">while</span>(src){<span class="hljs-keyword">if</span>(cap=<span class="hljs-keyword">this</span>.rules.escape.exec(src)){src=src.substring(cap[<span class="hljs-number">0</span>].length);out+=cap[<span class="hljs-number">1</span>];<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>(cap=<span class="hljs-keyword">this</span>.rules.autolink.exec(src)){src=src.substring(cap[<span class="hljs-number">0</span>].length);<span class="hljs-keyword">if</span>(cap[<span class="hljs-number">2</span>]===<span class="hljs-string">"@"</span>){text=cap[<span class="hljs-number">1</span>].charAt(<span class="hljs-number">6</span>)===<span class="hljs-string">":"</span>?<span class="hljs-keyword">this</span>.mangle(cap[<span class="hljs-number">1</span>].substring(<span class="hljs-number">7</span>)):<span class="hljs-keyword">this</span>.mangle(cap[<span class="hljs-number">1</span>]);href=<span class="hljs-keyword">this</span>.mangle(<span class="hljs-string">"mailto:"</span>)+text}<span class="hljs-keyword">else</span>{text=<span class="hljs-built_in">escape</span>(cap[<span class="hljs-number">1</span>]);href=text}out+=<span class="hljs-keyword">this</span>.renderer.link(href,<span class="hljs-literal">null</span>,text);<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>.inLink&amp;&amp;(cap=<span class="hljs-keyword">this</span>.rules.url.exec(src))){src=src.substring(cap[<span class="hljs-number">0</span>].length);text=<span class="hljs-built_in">escape</span>(cap[<span class="hljs-number">1</span>]);href=text;out+=<span class="hljs-keyword">this</span>.renderer.link(href,<span class="hljs-literal">null</span>,text);<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>(cap=<span class="hljs-keyword">this</span>.rules.tag.exec(src)){<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>.inLink&amp;&amp;<span class="hljs-regexp">/^&lt;a /i</span>.test(cap[<span class="hljs-number">0</span>])){<span class="hljs-keyword">this</span>.inLink=<span class="hljs-literal">true</span>}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.inLink&amp;&amp;<span class="hljs-regexp">/^&lt;\/a&gt;/i</span>.test(cap[<span class="hljs-number">0</span>])){<span class="hljs-keyword">this</span>.inLink=<span class="hljs-literal">false</span>}src=src.substring(cap[<span class="hljs-number">0</span>].length);out+=<span class="hljs-keyword">this</span>.options.sanitize?<span class="hljs-keyword">this</span>.options.sanitizer?<span class="hljs-keyword">this</span>.options.sanitizer(cap[<span class="hljs-number">0</span>]):<span class="hljs-built_in">escape</span>(cap[<span class="hljs-number">0</span>]):cap[<span class="hljs-number">0</span>];<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>(cap=<span class="hljs-keyword">this</span>.rules.link.exec(src)){src=src.substring(cap[<span class="hljs-number">0</span>].length);<span class="hljs-keyword">this</span>.inLink=<span class="hljs-literal">true</span>;out+=<span class="hljs-keyword">this</span>.outputLink(cap,{href:cap[<span class="hljs-number">2</span>],title:cap[<span class="hljs-number">3</span>]});<span class="hljs-keyword">this</span>.inLink=<span class="hljs-literal">false</span>;<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>((cap=<span class="hljs-keyword">this</span>.rules.reflink.exec(src))||(cap=<span class="hljs-keyword">this</span>.rules.nolink.exec(src))){src=src.substring(cap[<span class="hljs-number">0</span>].length);link=(cap[<span class="hljs-number">2</span>]||cap[<span class="hljs-number">1</span>]).replace(<span class="hljs-regexp">/\s+/g</span>,<span class="hljs-string">" "</span>);link=<span class="hljs-keyword">this</span>.links[link.toLowerCase()];<span class="hljs-keyword">if</span>(!link||!link.href){out+=cap[<span class="hljs-number">0</span>].charAt(<span class="hljs-number">0</span>);src=cap[<span class="hljs-number">0</span>].substring(<span class="hljs-number">1</span>)+src;<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">this</span>.inLink=<span class="hljs-literal">true</span>;out+=<span class="hljs-keyword">this</span>.outputLink(cap,link);<span class="hljs-keyword">this</span>.inLink=<span class="hljs-literal">false</span>;<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>(cap=<span class="hljs-keyword">this</span>.rules.strong.exec(src)){src=src.substring(cap[<span class="hljs-number">0</span>].length);out+=<span class="hljs-keyword">this</span>.renderer.strong(<span class="hljs-keyword">this</span>.output(cap[<span class="hljs-number">2</span>]||cap[<span class="hljs-number">1</span>]));<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>(cap=<span class="hljs-keyword">this</span>.rules.em.exec(src)){src=src.substring(cap[<span class="hljs-number">0</span>].length);out+=<span class="hljs-keyword">this</span>.renderer.em(<span class="hljs-keyword">this</span>.output(cap[<span class="hljs-number">2</span>]||cap[<span class="hljs-number">1</span>]));<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>(cap=<span class="hljs-keyword">this</span>.rules.code.exec(src)){src=src.substring(cap[<span class="hljs-number">0</span>].length);out+=<span class="hljs-keyword">this</span>.renderer.codespan(<span class="hljs-built_in">escape</span>(cap[<span class="hljs-number">2</span>],<span class="hljs-literal">true</span>));<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>(cap=<span class="hljs-keyword">this</span>.rules.br.exec(src)){src=src.substring(cap[<span class="hljs-number">0</span>].length);out+=<span class="hljs-keyword">this</span>.renderer.br();<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>(cap=<span class="hljs-keyword">this</span>.rules.del.exec(src)){src=src.substring(cap[<span class="hljs-number">0</span>].length);out+=<span class="hljs-keyword">this</span>.renderer.del(<span class="hljs-keyword">this</span>.output(cap[<span class="hljs-number">1</span>]));<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>(cap=<span class="hljs-keyword">this</span>.rules.text.exec(src)){src=src.substring(cap[<span class="hljs-number">0</span>].length);out+=<span class="hljs-keyword">this</span>.renderer.text(<span class="hljs-built_in">escape</span>(<span class="hljs-keyword">this</span>.smartypants(cap[<span class="hljs-number">0</span>])));<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">if</span>(src){<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Infinite loop on byte: "</span>+src.charCodeAt(<span class="hljs-number">0</span>))}}<span class="hljs-keyword">return</span> out};InlineLexer.prototype.outputLink=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">cap,link</span>)</span>{<span class="hljs-keyword">var</span> href=<span class="hljs-built_in">escape</span>(link.href),title=link.title?<span class="hljs-built_in">escape</span>(link.title):<span class="hljs-literal">null</span>;<span class="hljs-keyword">return</span> cap[<span class="hljs-number">0</span>].charAt(<span class="hljs-number">0</span>)!==<span class="hljs-string">"!"</span>?<span class="hljs-keyword">this</span>.renderer.link(href,title,<span class="hljs-keyword">this</span>.output(cap[<span class="hljs-number">1</span>])):<span class="hljs-keyword">this</span>.renderer.image(href,title,<span class="hljs-built_in">escape</span>(cap[<span class="hljs-number">1</span>]))};InlineLexer.prototype.smartypants=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">text</span>)</span>{<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>.options.smartypants)<span class="hljs-keyword">return</span> text;<span class="hljs-keyword">return</span> text.replace(<span class="hljs-regexp">/---/g</span>,<span class="hljs-string">"—"</span>).replace(<span class="hljs-regexp">/--/g</span>,<span class="hljs-string">"–"</span>).replace(<span class="hljs-regexp">/(^|[-\u2014/(\[{"\s])'/g</span>,<span class="hljs-string">"$1‘"</span>).replace(<span class="hljs-regexp">/'/g</span>,<span class="hljs-string">"’"</span>).replace(<span class="hljs-regexp">/(^|[-\u2014/(\[{\u2018\s])"/g</span>,<span class="hljs-string">"$1“"</span>).replace(<span class="hljs-regexp">/"/g</span>,<span class="hljs-string">"”"</span>).replace(<span class="hljs-regexp">/\.{3}/g</span>,<span class="hljs-string">"…"</span>)};InlineLexer.prototype.mangle=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">text</span>)</span>{<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>.options.mangle)<span class="hljs-keyword">return</span> text;<span class="hljs-keyword">var</span> out=<span class="hljs-string">""</span>,l=text.length,i=<span class="hljs-number">0</span>,ch;<span class="hljs-keyword">for</span>(;i&lt;l;i++){ch=text.charCodeAt(i);<span class="hljs-keyword">if</span>(<span class="hljs-built_in">Math</span>.random()&gt;<span class="hljs-number">.5</span>){ch=<span class="hljs-string">"x"</span>+ch.toString(<span class="hljs-number">16</span>)}out+=<span class="hljs-string">"&amp;#"</span>+ch+<span class="hljs-string">";"</span>}<span class="hljs-keyword">return</span> out};<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Renderer</span>(<span class="hljs-params">options</span>)</span>{<span class="hljs-keyword">this</span>.options=options||{}}Renderer.prototype.code=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">code,lang,escaped</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.options.highlight){<span class="hljs-keyword">var</span> out=<span class="hljs-keyword">this</span>.options.highlight(code,lang);<span class="hljs-keyword">if</span>(out!=<span class="hljs-literal">null</span>&amp;&amp;out!==code){escaped=<span class="hljs-literal">true</span>;code=out}}<span class="hljs-keyword">if</span>(!lang){<span class="hljs-keyword">return</span><span class="hljs-string">"&lt;pre&gt;&lt;code&gt;"</span>+(escaped?code:<span class="hljs-built_in">escape</span>(code,<span class="hljs-literal">true</span>))+<span class="hljs-string">"\n&lt;/code&gt;&lt;/pre&gt;"</span>}<span class="hljs-keyword">return</span><span class="hljs-string">'&lt;pre&gt;&lt;code class="'</span>+<span class="hljs-keyword">this</span>.options.langPrefix+<span class="hljs-built_in">escape</span>(lang,<span class="hljs-literal">true</span>)+<span class="hljs-string">'"&gt;'</span>+(escaped?code:<span class="hljs-built_in">escape</span>(code,<span class="hljs-literal">true</span>))+<span class="hljs-string">"\n&lt;/code&gt;&lt;/pre&gt;\n"</span>};Renderer.prototype.blockquote=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">quote</span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-string">"&lt;blockquote&gt;\n"</span>+quote+<span class="hljs-string">"&lt;/blockquote&gt;\n"</span>};Renderer.prototype.html=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">html</span>)</span>{<span class="hljs-keyword">return</span> html};Renderer.prototype.heading=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">text,level,raw</span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-string">"&lt;h"</span>+level+<span class="hljs-string">' id="'</span>+<span class="hljs-keyword">this</span>.options.headerPrefix+raw.toLowerCase().replace(<span class="hljs-regexp">/[^\w]+/g</span>,<span class="hljs-string">"-"</span>)+<span class="hljs-string">'"&gt;'</span>+text+<span class="hljs-string">"&lt;/h"</span>+level+<span class="hljs-string">"&gt;\n"</span>};Renderer.prototype.hr=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.options.xhtml?<span class="hljs-string">"&lt;hr/&gt;\n"</span>:<span class="hljs-string">"&lt;hr&gt;\n"</span>};Renderer.prototype.list=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">body,ordered</span>)</span>{<span class="hljs-keyword">var</span> type=ordered?<span class="hljs-string">"ol"</span>:<span class="hljs-string">"ul"</span>;<span class="hljs-keyword">return</span><span class="hljs-string">"&lt;"</span>+type+<span class="hljs-string">"&gt;\n"</span>+body+<span class="hljs-string">"&lt;/"</span>+type+<span class="hljs-string">"&gt;\n"</span>};Renderer.prototype.listitem=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">text</span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-string">"&lt;li&gt;"</span>+text+<span class="hljs-string">"&lt;/li&gt;\n"</span>};Renderer.prototype.paragraph=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">text</span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-string">"&lt;p&gt;"</span>+text+<span class="hljs-string">"&lt;/p&gt;\n"</span>};Renderer.prototype.table=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">header,body</span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-string">"&lt;table&gt;\n"</span>+<span class="hljs-string">"&lt;thead&gt;\n"</span>+header+<span class="hljs-string">"&lt;/thead&gt;\n"</span>+<span class="hljs-string">"&lt;tbody&gt;\n"</span>+body+<span class="hljs-string">"&lt;/tbody&gt;\n"</span>+<span class="hljs-string">"&lt;/table&gt;\n"</span>};Renderer.prototype.tablerow=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">content</span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-string">"&lt;tr&gt;\n"</span>+content+<span class="hljs-string">"&lt;/tr&gt;\n"</span>};Renderer.prototype.tablecell=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">content,flags</span>)</span>{<span class="hljs-keyword">var</span> type=flags.header?<span class="hljs-string">"th"</span>:<span class="hljs-string">"td"</span>;<span class="hljs-keyword">var</span> tag=flags.align?<span class="hljs-string">"&lt;"</span>+type+<span class="hljs-string">' style="text-align:'</span>+flags.align+<span class="hljs-string">'"&gt;'</span>:<span class="hljs-string">"&lt;"</span>+type+<span class="hljs-string">"&gt;"</span>;<span class="hljs-keyword">return</span> tag+content+<span class="hljs-string">"&lt;/"</span>+type+<span class="hljs-string">"&gt;\n"</span>};Renderer.prototype.strong=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">text</span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-string">"&lt;strong&gt;"</span>+text+<span class="hljs-string">"&lt;/strong&gt;"</span>};Renderer.prototype.em=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">text</span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-string">"&lt;em&gt;"</span>+text+<span class="hljs-string">"&lt;/em&gt;"</span>};Renderer.prototype.codespan=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">text</span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-string">"&lt;code&gt;"</span>+text+<span class="hljs-string">"&lt;/code&gt;"</span>};Renderer.prototype.br=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.options.xhtml?<span class="hljs-string">"&lt;br/&gt;"</span>:<span class="hljs-string">"&lt;br&gt;"</span>};Renderer.prototype.del=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">text</span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-string">"&lt;del&gt;"</span>+text+<span class="hljs-string">"&lt;/del&gt;"</span>};Renderer.prototype.link=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">href,title,text</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.options.sanitize){<span class="hljs-keyword">try</span>{<span class="hljs-keyword">var</span> prot=<span class="hljs-built_in">decodeURIComponent</span>(<span class="hljs-built_in">unescape</span>(href)).replace(<span class="hljs-regexp">/[^\w:]/g</span>,<span class="hljs-string">""</span>).toLowerCase()}<span class="hljs-keyword">catch</span>(e){<span class="hljs-keyword">return</span><span class="hljs-string">""</span>}<span class="hljs-keyword">if</span>(prot.indexOf(<span class="hljs-string">"javascript:"</span>)===<span class="hljs-number">0</span>||prot.indexOf(<span class="hljs-string">"vbscript:"</span>)===<span class="hljs-number">0</span>){<span class="hljs-keyword">return</span><span class="hljs-string">""</span>}}<span class="hljs-keyword">var</span> out=<span class="hljs-string">'&lt;a href="'</span>+href+<span class="hljs-string">'"'</span>;<span class="hljs-keyword">if</span>(title){out+=<span class="hljs-string">' title="'</span>+title+<span class="hljs-string">'"'</span>}out+=<span class="hljs-string">"&gt;"</span>+text+<span class="hljs-string">"&lt;/a&gt;"</span>;<span class="hljs-keyword">return</span> out};Renderer.prototype.image=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">href,title,text</span>)</span>{<span class="hljs-keyword">var</span> out=<span class="hljs-string">'&lt;img src="'</span>+href+<span class="hljs-string">'" alt="'</span>+text+<span class="hljs-string">'"'</span>;<span class="hljs-keyword">if</span>(title){out+=<span class="hljs-string">' title="'</span>+title+<span class="hljs-string">'"'</span>}out+=<span class="hljs-keyword">this</span>.options.xhtml?<span class="hljs-string">"/&gt;"</span>:<span class="hljs-string">"&gt;"</span>;<span class="hljs-keyword">return</span> out};Renderer.prototype.text=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">text</span>)</span>{<span class="hljs-keyword">return</span> text};<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Parser</span>(<span class="hljs-params">options</span>)</span>{<span class="hljs-keyword">this</span>.tokens=[];<span class="hljs-keyword">this</span>.token=<span class="hljs-literal">null</span>;<span class="hljs-keyword">this</span>.options=options||marked.defaults;<span class="hljs-keyword">this</span>.options.renderer=<span class="hljs-keyword">this</span>.options.renderer||<span class="hljs-keyword">new</span> Renderer;<span class="hljs-keyword">this</span>.renderer=<span class="hljs-keyword">this</span>.options.renderer;<span class="hljs-keyword">this</span>.renderer.options=<span class="hljs-keyword">this</span>.options}Parser.parse=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">src,options,renderer</span>)</span>{<span class="hljs-keyword">var</span> parser=<span class="hljs-keyword">new</span> Parser(options,renderer);<span class="hljs-keyword">return</span> parser.parse(src)};Parser.prototype.parse=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">src</span>)</span>{<span class="hljs-keyword">this</span>.inline=<span class="hljs-keyword">new</span> InlineLexer(src.links,<span class="hljs-keyword">this</span>.options,<span class="hljs-keyword">this</span>.renderer);<span class="hljs-keyword">this</span>.tokens=src.reverse();<span class="hljs-keyword">var</span> out=<span class="hljs-string">""</span>;<span class="hljs-keyword">while</span>(<span class="hljs-keyword">this</span>.next()){out+=<span class="hljs-keyword">this</span>.tok()}<span class="hljs-keyword">return</span> out};Parser.prototype.next=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.token=<span class="hljs-keyword">this</span>.tokens.pop()};Parser.prototype.peek=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.tokens[<span class="hljs-keyword">this</span>.tokens.length-<span class="hljs-number">1</span>]||<span class="hljs-number">0</span>};Parser.prototype.parseText=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> body=<span class="hljs-keyword">this</span>.token.text;<span class="hljs-keyword">while</span>(<span class="hljs-keyword">this</span>.peek().type===<span class="hljs-string">"text"</span>){body+=<span class="hljs-string">"\n"</span>+<span class="hljs-keyword">this</span>.next().text}<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.inline.output(body)};Parser.prototype.tok=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">switch</span>(<span class="hljs-keyword">this</span>.token.type){<span class="hljs-keyword">case</span><span class="hljs-string">"space"</span>:{<span class="hljs-keyword">return</span><span class="hljs-string">""</span>}<span class="hljs-keyword">case</span><span class="hljs-string">"hr"</span>:{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.renderer.hr()}<span class="hljs-keyword">case</span><span class="hljs-string">"heading"</span>:{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.renderer.heading(<span class="hljs-keyword">this</span>.inline.output(<span class="hljs-keyword">this</span>.token.text),<span class="hljs-keyword">this</span>.token.depth,<span class="hljs-keyword">this</span>.token.text)}<span class="hljs-keyword">case</span><span class="hljs-string">"code"</span>:{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.renderer.code(<span class="hljs-keyword">this</span>.token.text,<span class="hljs-keyword">this</span>.token.lang,<span class="hljs-keyword">this</span>.token.escaped)}<span class="hljs-keyword">case</span><span class="hljs-string">"table"</span>:{<span class="hljs-keyword">var</span> header=<span class="hljs-string">""</span>,body=<span class="hljs-string">""</span>,i,row,cell,flags,j;cell=<span class="hljs-string">""</span>;<span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-keyword">this</span>.token.header.length;i++){flags={header:<span class="hljs-literal">true</span>,align:<span class="hljs-keyword">this</span>.token.align[i]};cell+=<span class="hljs-keyword">this</span>.renderer.tablecell(<span class="hljs-keyword">this</span>.inline.output(<span class="hljs-keyword">this</span>.token.header[i]),{header:<span class="hljs-literal">true</span>,align:<span class="hljs-keyword">this</span>.token.align[i]})}header+=<span class="hljs-keyword">this</span>.renderer.tablerow(cell);<span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-keyword">this</span>.token.cells.length;i++){row=<span class="hljs-keyword">this</span>.token.cells[i];cell=<span class="hljs-string">""</span>;<span class="hljs-keyword">for</span>(j=<span class="hljs-number">0</span>;j&lt;row.length;j++){cell+=<span class="hljs-keyword">this</span>.renderer.tablecell(<span class="hljs-keyword">this</span>.inline.output(row[j]),{header:<span class="hljs-literal">false</span>,align:<span class="hljs-keyword">this</span>.token.align[j]})}body+=<span class="hljs-keyword">this</span>.renderer.tablerow(cell)}<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.renderer.table(header,body)}<span class="hljs-keyword">case</span><span class="hljs-string">"blockquote_start"</span>:{<span class="hljs-keyword">var</span> body=<span class="hljs-string">""</span>;<span class="hljs-keyword">while</span>(<span class="hljs-keyword">this</span>.next().type!==<span class="hljs-string">"blockquote_end"</span>){body+=<span class="hljs-keyword">this</span>.tok()}<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.renderer.blockquote(body)}<span class="hljs-keyword">case</span><span class="hljs-string">"list_start"</span>:{<span class="hljs-keyword">var</span> body=<span class="hljs-string">""</span>,ordered=<span class="hljs-keyword">this</span>.token.ordered;<span class="hljs-keyword">while</span>(<span class="hljs-keyword">this</span>.next().type!==<span class="hljs-string">"list_end"</span>){body+=<span class="hljs-keyword">this</span>.tok()}<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.renderer.list(body,ordered)}<span class="hljs-keyword">case</span><span class="hljs-string">"list_item_start"</span>:{<span class="hljs-keyword">var</span> body=<span class="hljs-string">""</span>;<span class="hljs-keyword">while</span>(<span class="hljs-keyword">this</span>.next().type!==<span class="hljs-string">"list_item_end"</span>){body+=<span class="hljs-keyword">this</span>.token.type===<span class="hljs-string">"text"</span>?<span class="hljs-keyword">this</span>.parseText():<span class="hljs-keyword">this</span>.tok()}<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.renderer.listitem(body)}<span class="hljs-keyword">case</span><span class="hljs-string">"loose_item_start"</span>:{<span class="hljs-keyword">var</span> body=<span class="hljs-string">""</span>;<span class="hljs-keyword">while</span>(<span class="hljs-keyword">this</span>.next().type!==<span class="hljs-string">"list_item_end"</span>){body+=<span class="hljs-keyword">this</span>.tok()}<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.renderer.listitem(body)}<span class="hljs-keyword">case</span><span class="hljs-string">"html"</span>:{<span class="hljs-keyword">var</span> html=!<span class="hljs-keyword">this</span>.token.pre&amp;&amp;!<span class="hljs-keyword">this</span>.options.pedantic?<span class="hljs-keyword">this</span>.inline.output(<span class="hljs-keyword">this</span>.token.text):<span class="hljs-keyword">this</span>.token.text;<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.renderer.html(html)}<span class="hljs-keyword">case</span><span class="hljs-string">"paragraph"</span>:{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.renderer.paragraph(<span class="hljs-keyword">this</span>.inline.output(<span class="hljs-keyword">this</span>.token.text))}<span class="hljs-keyword">case</span><span class="hljs-string">"text"</span>:{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.renderer.paragraph(<span class="hljs-keyword">this</span>.parseText())}}};<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">escape</span>(<span class="hljs-params">html,encode</span>)</span>{<span class="hljs-keyword">return</span> html.replace(!encode?<span class="hljs-regexp">/&amp;(?!#?\w+;)/g</span>:<span class="hljs-regexp">/&amp;/g</span>,<span class="hljs-string">"&amp;amp;"</span>).replace(<span class="hljs-regexp">/&lt;/g</span>,<span class="hljs-string">"&amp;lt;"</span>).replace(<span class="hljs-regexp">/&gt;/g</span>,<span class="hljs-string">"&amp;gt;"</span>).replace(<span class="hljs-regexp">/"/g</span>,<span class="hljs-string">"&amp;quot;"</span>).replace(<span class="hljs-regexp">/'/g</span>,<span class="hljs-string">"&amp;#39;"</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unescape</span>(<span class="hljs-params">html</span>)</span>{<span class="hljs-keyword">return</span> html.replace(<span class="hljs-regexp">/&amp;([#\w]+);/g</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">_,n</span>)</span>{n=n.toLowerCase();<span class="hljs-keyword">if</span>(n===<span class="hljs-string">"colon"</span>)<span class="hljs-keyword">return</span><span class="hljs-string">":"</span>;<span class="hljs-keyword">if</span>(n.charAt(<span class="hljs-number">0</span>)===<span class="hljs-string">"#"</span>){<span class="hljs-keyword">return</span> n.charAt(<span class="hljs-number">1</span>)===<span class="hljs-string">"x"</span>?<span class="hljs-built_in">String</span>.fromCharCode(<span class="hljs-built_in">parseInt</span>(n.substring(<span class="hljs-number">2</span>),<span class="hljs-number">16</span>)):<span class="hljs-built_in">String</span>.fromCharCode(+n.substring(<span class="hljs-number">1</span>))}<span class="hljs-keyword">return</span><span class="hljs-string">""</span>})}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">replace</span>(<span class="hljs-params">regex,opt</span>)</span>{regex=regex.source;opt=opt||<span class="hljs-string">""</span>;<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">self</span>(<span class="hljs-params">name,val</span>)</span>{<span class="hljs-keyword">if</span>(!name)<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(regex,opt);val=val.source||val;val=val.replace(<span class="hljs-regexp">/(^|[^\[])\^/g</span>,<span class="hljs-string">"$1"</span>);regex=regex.replace(name,val);<span class="hljs-keyword">return</span> self}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">noop</span>(<span class="hljs-params"></span>)</span>{}noop.exec=noop;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">merge</span>(<span class="hljs-params">obj</span>)</span>{<span class="hljs-keyword">var</span> i=<span class="hljs-number">1</span>,target,key;<span class="hljs-keyword">for</span>(;i&lt;<span class="hljs-built_in">arguments</span>.length;i++){target=<span class="hljs-built_in">arguments</span>[i];<span class="hljs-keyword">for</span>(key <span class="hljs-keyword">in</span> target){<span class="hljs-keyword">if</span>(<span class="hljs-built_in">Object</span>.prototype.hasOwnProperty.call(target,key)){obj[key]=target[key]}}}<span class="hljs-keyword">return</span> obj}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">marked</span>(<span class="hljs-params">src,opt,callback</span>)</span>{<span class="hljs-keyword">if</span>(callback||<span class="hljs-keyword">typeof</span> opt===<span class="hljs-string">"function"</span>){<span class="hljs-keyword">if</span>(!callback){callback=opt;opt=<span class="hljs-literal">null</span>}opt=merge({},marked.defaults,opt||{});<span class="hljs-keyword">var</span> highlight=opt.highlight,tokens,pending,i=<span class="hljs-number">0</span>;<span class="hljs-keyword">try</span>{tokens=Lexer.lex(src,opt)}<span class="hljs-keyword">catch</span>(e){<span class="hljs-keyword">return</span> callback(e)}pending=tokens.length;<span class="hljs-keyword">var</span> done=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>)</span>{<span class="hljs-keyword">if</span>(err){opt.highlight=highlight;<span class="hljs-keyword">return</span> callback(err)}<span class="hljs-keyword">var</span> out;<span class="hljs-keyword">try</span>{out=Parser.parse(tokens,opt)}<span class="hljs-keyword">catch</span>(e){err=e}opt.highlight=highlight;<span class="hljs-keyword">return</span> err?callback(err):callback(<span class="hljs-literal">null</span>,out)};<span class="hljs-keyword">if</span>(!highlight||highlight.length&lt;<span class="hljs-number">3</span>){<span class="hljs-keyword">return</span> done()}<span class="hljs-keyword">delete</span> opt.highlight;<span class="hljs-keyword">if</span>(!pending)<span class="hljs-keyword">return</span> done();<span class="hljs-keyword">for</span>(;i&lt;tokens.length;i++){(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">token</span>)</span>{<span class="hljs-keyword">if</span>(token.type!==<span class="hljs-string">"code"</span>){<span class="hljs-keyword">return</span>--pending||done()}<span class="hljs-keyword">return</span> highlight(token.text,token.lang,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err,code</span>)</span>{<span class="hljs-keyword">if</span>(err)<span class="hljs-keyword">return</span> done(err);<span class="hljs-keyword">if</span>(code==<span class="hljs-literal">null</span>||code===token.text){<span class="hljs-keyword">return</span>--pending||done()}token.text=code;token.escaped=<span class="hljs-literal">true</span>;--pending||done()})})(tokens[i])}<span class="hljs-keyword">return</span>}<span class="hljs-keyword">try</span>{<span class="hljs-keyword">if</span>(opt)opt=merge({},marked.defaults,opt);<span class="hljs-keyword">return</span> Parser.parse(Lexer.lex(src,opt),opt)}<span class="hljs-keyword">catch</span>(e){e.message+=<span class="hljs-string">"\nPlease report this to https://github.com/chjj/marked."</span>;<span class="hljs-keyword">if</span>((opt||marked.defaults).silent){<span class="hljs-keyword">return</span><span class="hljs-string">"&lt;p&gt;An error occured:&lt;/p&gt;&lt;pre&gt;"</span>+<span class="hljs-built_in">escape</span>(e.message+<span class="hljs-string">""</span>,<span class="hljs-literal">true</span>)+<span class="hljs-string">"&lt;/pre&gt;"</span>}<span class="hljs-keyword">throw</span> e}}marked.options=marked.setOptions=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">opt</span>)</span>{merge(marked.defaults,opt);<span class="hljs-keyword">return</span> marked};marked.defaults={gfm:<span class="hljs-literal">true</span>,tables:<span class="hljs-literal">true</span>,breaks:<span class="hljs-literal">false</span>,pedantic:<span class="hljs-literal">false</span>,sanitize:<span class="hljs-literal">false</span>,sanitizer:<span class="hljs-literal">null</span>,mangle:<span class="hljs-literal">true</span>,smartLists:<span class="hljs-literal">false</span>,silent:<span class="hljs-literal">false</span>,highlight:<span class="hljs-literal">null</span>,langPrefix:<span class="hljs-string">"lang-"</span>,smartypants:<span class="hljs-literal">false</span>,headerPrefix:<span class="hljs-string">""</span>,renderer:<span class="hljs-keyword">new</span> Renderer,xhtml:<span class="hljs-literal">false</span>};marked.Parser=Parser;marked.parser=Parser.parse;marked.Renderer=Renderer;marked.Lexer=Lexer;marked.lexer=Lexer.lex;marked.InlineLexer=InlineLexer;marked.inlineLexer=InlineLexer.output;marked.parse=marked;<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">module</span>!==<span class="hljs-string">"undefined"</span>&amp;&amp;<span class="hljs-keyword">typeof</span> exports===<span class="hljs-string">"object"</span>){<span class="hljs-built_in">module</span>.exports=marked}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> define===<span class="hljs-string">"function"</span>&amp;&amp;define.amd){define(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> marked})}<span class="hljs-keyword">else</span>{<span class="hljs-keyword">this</span>.marked=marked}}).call(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>||(<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">window</span>!==<span class="hljs-string">"undefined"</span>?<span class="hljs-built_in">window</span>:global)}());</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
